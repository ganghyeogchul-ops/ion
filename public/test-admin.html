<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í…ŒìŠ¤íŠ¸ - Admin.js ë¡œë“œ í™•ì¸</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #1a1a2e;
            color: #fff;
            padding: 40px;
        }
        .test-result {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            margin: 10px 0;
            border-radius: 10px;
        }
        .success { border-left: 4px solid #10b981; }
        .error { border-left: 4px solid #ef4444; }
    </style>
</head>
<body>
    <h1>ğŸ§ª Admin.js í•¨ìˆ˜ í…ŒìŠ¤íŠ¸</h1>
    
    <div id="test-results"></div>
    
    <button onclick="runTests()" style="padding: 15px 30px; font-size: 18px; margin-top: 20px; cursor: pointer;">
        í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    </button>
    
    <script src="/static/js/main.js"></script>
    <script src="/static/js/admin-api.js"></script>
    <script src="/static/js/admin.js"></script>
    
    <script>
        async function runTests() {
            const resultsDiv = document.getElementById('test-results');
            resultsDiv.innerHTML = '<h2>í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...</h2>';
            
            let html = '';
            
            // Test 1: getTradeRequests í•¨ìˆ˜ ì¡´ì¬ í™•ì¸
            if (typeof getTradeRequests === 'function') {
                html += '<div class="test-result success">âœ… getTradeRequests í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</div>';
            } else {
                html += '<div class="test-result error">âŒ getTradeRequests í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>';
            }
            
            // Test 2: switchTab í•¨ìˆ˜ ì¡´ì¬ í™•ì¸
            if (typeof switchTab === 'function') {
                html += '<div class="test-result success">âœ… switchTab í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</div>';
            } else {
                html += '<div class="test-result error">âŒ switchTab í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>';
            }
            
            // Test 3: loadRequestsTab í•¨ìˆ˜ ì¡´ì¬ í™•ì¸
            if (typeof loadRequestsTab === 'function') {
                html += '<div class="test-result success">âœ… loadRequestsTab í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</div>';
            } else {
                html += '<div class="test-result error">âŒ loadRequestsTab í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>';
            }
            
            // Test 4: API í˜¸ì¶œ í…ŒìŠ¤íŠ¸
            try {
                html += '<div class="test-result">â³ getTradeRequests() í˜¸ì¶œ ì¤‘...</div>';
                const result = await getTradeRequests(1, 10);
                html += `<div class="test-result success">âœ… API í˜¸ì¶œ ì„±ê³µ! ë°ì´í„°: ${result.data.length}ê°œ</div>`;
                html += `<pre>${JSON.stringify(result, null, 2)}</pre>`;
            } catch (error) {
                html += `<div class="test-result error">âŒ API í˜¸ì¶œ ì‹¤íŒ¨: ${error.message}</div>`;
            }
            
            resultsDiv.innerHTML = html;
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.addEventListener('load', () => {
            setTimeout(runTests, 1000);
        });
    </script>
</body>
</html>
